# トイレのダスミル
**トイレ × Tech**

### 背景
私は現在アパートで暮らしているのだが、リビングとトイレの距離がとても近い。そのため、友達が遊びに来たとき、自分が用をたす際は友達は嫌でも私の音を聞くことになってしまう。なるべく相手にこの音を聞かせたくない、そして自分もなるべく相手の音を聞きたくない。そんなことから、擬音を再生する装置を作ろうと考えた。

ところで、トイレの回数(排泄の回数)は健康状態を写し出すものとして有効に使える。近年健康ブームということもあり、私も何かしらの方法で健康管理をしたいと考えていた。そこで、擬音装置にトイレの回数を記録する機能をつけて、擬音装置としてだけでなく、健康管理装置としても動作できる装置を作ることにした。

### 製品説明
#### 操作方法
ユーザーは本製品を用いて4つのアクションを行うことができる。

1. 擬音を再生する
2. 排泄の記録をする
3. 擬音の音量を調整する
4. 排泄の記録を確認する

1, 2については、ハードウェアに取り付けられた3つのボタン(擬音再生、データ送信(小)、データ送信(大))を押すことで操作できる。

3については位置センサを使用し、つまみ操作のような動きをできるようにした。

4については、スマホアプリを作ることで記録を閲覧できるようにした。

#### データ処理に関して
排泄の記録についてだが、これらのデータはWi-Fi経由でAWS IoTに接続し、AWS IoTを介してAWS S3に蓄積されていく。AWS EC2にて排泄記録を返すAPIを用意しスマホアプリからAPI利用することによってスマホアプリから排泄の記録を見ることができる。

### 特長

1. データの記録が簡単

トイレの排泄回数を記録するスマホアプリがある。しかし、トイレの排泄回数を記録するたびにスマホを取り出して記録するのもなんだか面倒な感じがした。しかし、本製品はスマホいらずでただボタンを押すだけで記録することが可能であり、スマホなしで排泄回数を記録することができる。これによって、例えば自分だけでなく、身内(おじいちゃんやおばあちゃん)を健康管理の対象として使用する際に有利となる。

1. スマホアプリもとってもシンプル

スマホアプリでは直近の1週間と一ヶ月分の記録を見ることができる。一週間分が棒グラフとヒストグラム、一ヶ月分が折れ線グラフとして可視化される。さらに、一週間、一ヶ月共に一にあたりどの時間帯に多くトイレに行っているかも把握することができる。

1. マスク効果が高い擬音

本装置で使用している擬音はネット上のフリー音源(川のせせらぎ、滝の音)、自分で録音した音源(ペットボトルの水をトイレに流し入れた際の音)を組み合わせて作られた。大手トイレメーカーに引けを取らない擬音装置を作り上げたつもりだ。

### 今後の展望
現在管理対象は1人と仮定されている。これを複数人で使えるようになることで、例えば親が子供たちの健康管理状態を見ることができたり、子どもたちそれぞれでユニークな擬音を再生したりができるようになる。また、スマホアプリにおいて排泄回数に応じて健康週間の改善についてのアドバイスをみれるようにしたりすることが考えられる。

### 開発内容・開発技術

#### ハードウェア
- ESPr developer 32(ESP32)
- DFPlayerMini(MP3Player)
- SoftPot(位置センサ)
- ゲームスイッチ

#### ソフトウェア
- AWS
  - IoT
  - EC2
  - S3e
- Unity
- Python
  
### 2日間に開発した独自の機能・技術
- ハードウェアプログラム
- Unityアプリ
- Pythonスクリプト(API)